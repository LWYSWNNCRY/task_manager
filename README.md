# Task Manager API

## Описание

Task Manager API — это реализация тестового задания. Реализовано с использованием FastAPI и SQLite. Используются 
паттерны Repository, Dependency Injection, Service Layer. Вынесение логики работы с БД в отдельный репозиторий и бизнес 
логики в отдельный сервисный слой позволяет упростить тестирование, увеличить масштабируемость и дает возможность
переиспользовать код в других местах. 

Написаны тесты для каждой CRUD операции, запуск тестов описан ниже.

Используется flake8 для контроля соответствия кода стандарту PEP8, запуск описан ниже.

---

## Установка

1. Клонировать репозиторий и создать виртуальное окружение (python 3.10)
2. Установить зависимости:
    ```
   pip install -r requirements.txt
    ```
3. Выполнить первичную миграцию (описано ниже)

## Миграции

### Первичная:
      alembic upgrade head

### Последующие:

1. Создать файлы миграций:
    ```
    alembic revision --autogenerate -m "Name of migration"
    ```
2. Применить миграции:
    ```
    alembic upgrade head
    ```

## Запуск

### Запустить приложение:
    uvicorn app.main:app --reload

Приложение будет доступно по адресу:
[http://localhost:8000](http://localhost:8000)

### Запустить тесты:
    pytest tests/test_tasks.py
    
### Запустить flake8:
    flake8
---
## Эндпоинты

| Метод |     URL     |       Описание        |
|:----:|:----------:|:----------------:|
| GET  |    /tasks    | Получить все задачи |
| GET  | /tasks/{id}  | Получить задачу по ID |
| POST |    /tasks    |  Создать задачу   |
| PUT  | /tasks/{id}  | Обновить задачу  |
| DELETE | /tasks/{id} |  Удалить задачу   |